# Horus: ATCレーダーシミュレーションシステム

## システム概要

**Horus**は、日本のレーダー管制システムを対象としたオープンソースのシミュレーターです。バックエンドは**ウラノス** (Uranus) という愛称で、Java言語で実装されています。フロントエンドは**オモテノス** (Omotenus) という愛称で、TypeScriptで書かれています。Horusという名前はエジプト神話の天空の神ホルスに由来し、ウラノスはギリシャ神話の天空の神ウラノスに由来しています。

### 開発背景

欧州にはデルフト工科大学が開発した管制レーダーシミュレーターのオープンソースモデルがありますが、日本では利用が難しい現状があります。さらに、日本には誰でも気軽に利用できるオープンソースのレーダー管制シミュレーターが存在しないため、研究者は安全性向上のための実験を行う際に独自のシミュレーターを作成する必要があります。これが研究のスピードを鈍化させる原因となっています。

このような背景から、Horusは研究者の負担を軽減し、研究のスピードを向上させることを目的に開発されました。Horusを利用することで、日本のレーダー管制システムに関する安全性実験や研究をより効率的に進めることができます。

## システム構成

システムは以下の2つの主要コンポーネントで構成されています：

1. **ウラノス (Uranus)** - バックエンド
   - Java 22 + Spring Boot 3.3.2で実装
   - クリーンアーキテクチャに基づく設計
   - 主要コンポーネント：
     - Domain Layer: 航空機、空域、経路などのドメインモデル
     - Application Layer: 航空機レーダーサービス、シナリオサービス
     - Interface Layer: RESTful API（OpenAPI 3.0.2準拠）
     - Infrastructure Layer: インメモリリポジトリ実装
   - 詳細は `Backend/README.md` を参照

2. **オモテノス (Omotenus)** - フロントエンド
   - TypeScript + Next.js 14.2.15で実装
   - Tailwind CSSによるモダンなUI
   - 主要コンポーネント：
     - レーダー表示画面（RadarCanvas）
     - 管制指示入力インターフェース（ControlAircraft）
     - 航空機情報入力フォーム（InputAircraftInfo）
     - セクター選択機能（SectorSelector）
     - 表示範囲設定（DisplayRangeSetting）
     - 経路情報表示設定（RouteInfoDisplaySetting）
   - 2つの主要画面：
     - オペレーター画面：管制指示の実行
     - コントローラー画面：航空機情報の入力
   - 詳細は `Frontend/README.md` を参照

## システムの特徴

- **リアルタイムシミュレーション**: 航空機の位置、高度、速度などをリアルタイムで計算・表示
- **管制指示機能**: 高度、針路、速度などの管制指示を航空機に送信可能
- **シナリオベース**: 事前定義されたシナリオファイルを使用して様々な状況をシミュレーション
- **オープンソース**: 研究・教育目的で自由に利用可能
- **拡張性**: モジュール化された設計により、新機能の追加が容易
- **双方向インターフェース**: オペレーターとコントローラーの役割分担による効率的な運用

## 開発環境のセットアップ

各コンポーネントの詳細なセットアップ手順は、それぞれのディレクトリのREADMEを参照してください。

## ライセンス

このプロジェクトはオープンソースとして公開されており、研究・教育目的で自由に利用できます。

## ブラウザからフロントエンドにアクセス

[オモテノス](http://localhost:4507/Frontend/index.html)

# Java環境のセットアップの実行手順

> [!CAUTION]
> このシステムは Java 21 または Java 22 で動作します。Java 24 では互換性の問題が発生するため使用しないでください。

1. **Javaのインストール**

    - [JDKのダウンロードサイト](https://www.oracle.com/jp/java/technologies/downloads/#java21)からJava 21をダウンロードしてインストールします。
    - Java 22も使用可能ですが、必ずGradle 8.8以上と組み合わせてください。

2. **Javaの環境設定**

    - インストールが完了したら、コマンドラインで `java --version` を実行し、Javaが正しくインストールされていることを確認します。
    - 複数のJavaバージョンがインストールされている場合は、Java 21または22を使用するように環境を設定してください。

3. **依存関係のダウンロード**
    - Gradleを使用しています。実行時によしなにしてくれるはずです。

4. **コマンドラインで実行**

`cd ./Backend`と`./gradlew bootRun`を実行してバックエンドを起動します。

> [!NOTE]
> Java 24がシステムのデフォルトになっている場合は、`JAVA_HOME`環境変数を設定してJava 21または22を指定してください：
> `JAVA_HOME=/path/to/java21 ./gradlew bootRun`

ブラウザで<http://localhost:8080/docs.html>にアクセスすることで、サーバー側のコマンドを確認できます。
